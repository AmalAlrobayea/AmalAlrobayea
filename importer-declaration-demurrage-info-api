swagger: '2.0'
info:
  title: Importer Declaration Demurrage Info API
  x-ibm-name: importer-declaration-demurrage-info-api
  version: 1.0.0
  description: 'This API Provides a list of Declarations for specific time period and related to a particular Importer and provides the details of Demurrage Fee of specific declaration. E.g. Declaration No, Demurrage Fee, ...etc.'
schemes:
  - https
basePath: /tabadul/fasahsb/api/v1/analytics/iddi/importer
security:
  - clientID: []
    oAuth2:
      - IMPRT
      - Trader
securityDefinitions:
  oAuth2:
    type: oauth2
    description: The API is restricted by oAuth2 password grant
    flow: password
    x-ibm-oauth-provider: fasah-sb-identity-service-oauth-provider-v3
    tokenUrl: 'https://sapis.fasah.sa/tabadul/fasahsb/oauth2/token/v3/jwt'
    scopes:
      Broker: Broker
      Fasah: Fasah
      GATEOPERATOR: GATEOPERATOR
      IMPRT: Importer
      PORT_CONTRACTOR: PORT_CONTRACTOR
      SUPERBROKER: SUPERBROKER
      Trader: Trader
  clientSecret:
    type: apiKey
    name: X-Tabadul-Client-Secret
    in: header
    x-key-type: client_secret
  clientID:
    type: apiKey
    in: header
    name: X-Tabadul-Client-Id
x-ibm-configuration:
  cors:
    enabled: true
  type: rest
  phase: realized
  enforced: true
  testable: true
  application-authentication:
    certificate: false
  servers:
    - url: 'https://sapis.fasah.sa/tabadul/fasahsb/api/v1/analytics/iddi/importer'
      description: external sandbox for testing
      type:
        - Development
definitions:
  DefaultFailureResonse:
    type: object
    additionalProperties: false
    properties:
      httpCode:
        type: string
      httpMessage:
        type: string
      moreInformation:
        type: string
  DemurrageDeclarationsListItem:
    type: object
    additionalProperties: false
    properties:
      importerNumber:
        type: number
      declarationNumber:
        type: number
      declarationDate:
        type: string
        format: date
  DemurrageDeclarationsList:
    type: array
    items:
      $ref: '#/definitions/DemurrageDeclarationsListItem'
  DemurrageDeclarationDetailsItem:
    type: object
    additionalProperties: false
    properties:
      portName:
        type: string
      importerNumber:
        type: number
      declarationNumber:
        type: number
      declarationDate:
        type: string
        format: date
      brokerName:
        type: string
      declarationTypeDesc:
        type: string
      statusDesc:
        type: string
      demurrageFee:
        type: string
  DemurrageDeclarationDetails:
    type: array
    items:
      $ref: '#/definitions/DemurrageDeclarationDetailsItem'
paths:
  '/{importer_number}/demurrage/declarations/{declaration_number}':
    parameters:
      - name: importer_number
        in: path
        required: true
        type: number
      - name: declaration_number
        in: path
        required: true
        type: number
    get:
      responses:
        '200':
          description: success
          schema:
            $ref: '#/definitions/DemurrageDeclarationDetails'
        '400':
          description: bad request
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
        '401':
          description: unauthorized
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
        '404':
          description: No resources match requested URI
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
        '405':
          description: method not allowed
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
        '500':
          description: internal error
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
      operationId: Details of a declaration for demurrage
      consumes: []
      produces:
        - application/json
  '/{importer_number}/demurrage/declarations':
    parameters:
      - name: importer_number
        in: path
        required: true
        type: number
    get:
      responses:
        '200':
          description: success
          schema:
            $ref: '#/definitions/DemurrageDeclarationsList'
        '400':
          description: bad request
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
        '401':
          description: unauthorized
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
        '404':
          description: No resources match requested URI
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
        '405':
          description: method not allowed
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
        '500':
          description: internal error
          schema:
            $ref: '#/definitions/DefaultFailureResonse'
      operationId: List of declarations for demurrage
      consumes: []
      produces:
        - application/json
host: sapis.fasah.sa
